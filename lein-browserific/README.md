# lein-Browserific

A Leiningen plugin for ClojureScript app developement.

## Status

This plugin is nearly done, however, the config GUI and internal
structure leave a bit to be desired. I plan on pushing out the first
version after finishing firefoxos details. 

Beware, this plugin is very experimental and guaranteed to change
over time (pre-alpha quality)! 

## Installation

This project has not been released yet, so it will need to be cloned and
installed manually for now.

## Basic Configuration

There are two options to be aware of for the project.clj file:

```clj
:browserific {:config "some/location/config.edn"
              :source-paths "another/spot"}
```

`:config` denotes a special location for the app's configuration
file. If no option is specified, the default is to use `src/config.edn`.

`:source-paths` points to the ClojureScript files of your app. The
default location is `src`.


Before you get coding, you'll need to build the project's configuration
file and set up lein-cljsbuild. 

To start the configuration GUI, run:

```sh
lein browserific config 
```

and then navigate to http://localhost:50000 with a web browser. The menu
updates your `config.edn` asynchronously while you type, so don't worry
about hitting a `save` button. You can close the window and stop the
server when you've finished filling in the configuration.

Next, create builds for lein-cljsbuild with:

```sh
lein browserific build
```

This populates the `builds.clj` file with all of the relevant platforms
that you set during the configuration.

## Usage

Once the configuration has been writen and your app is coded, the files
can be compiled into the intermediate directory using browserific and
lein-clsjbuild:

```sh
# Single compile
lein browserific compile
lein cljsbuild once

# Auto builds (running in separate shells)
lein auto browserific compile
lein cljsbuild auto
```

To erase the files that were previously generated by browserific, run:

```sh
lein browserific clean
```

For more adventerous folk, exhaustive sample files also exist for how to
write a `config.edn` by hand for each of the platforms. They can be
viewed using:  

```sh
# Gives all config options
lein browserific sample

# Gives only mobile config options (see help for more platforms)
lein browserific mobile
```
Of course, this is not recommended, however, it's there if you need it :-)


## License

Copyright Â© 2014 Ed Babcock

Distributed under the Eclipse Public License version 1.0.
